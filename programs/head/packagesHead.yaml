---
- hosts: head
  remote_user: root
  tasks:
    - name: OpenHPC
      yum:name=http://build.openhpc.community/OpenHPC:/1.3/CentOS_7/x86_64/ohpc-release-1.3-1.el7.x86_64.rpm

    - name: Yum Update
      yum: name=*,epel-release state=latest

    - name: Yum Packages
      yum: name={{item}} state=latest
      with_items:
        - ohpc-base
        - nmap 
        - gcc
        - vim
        - g++
        - emacs
        - nano
        - git
        - autogen
        - autoconf-ohpc
        - automake-ohpc
        - bzip
        - gzip
        - tar
        - unzip
        - environment-modules
        - stress
        - python
        - python3
        - python2-pip
        - python34-pip
        - r-base
        - octave
        - svn
        - tmux
        - zsh
        - wget
        - curl
        - miniconda
        - singularity-ohpc
        - mpich
        - cmake
        - gcc-gfortran
        - ipmitool
        - maven
        - openldap-clients
        - nss-pam-ldapd
        - rsync
        - yum-utils
        - oddjob-mkhomedir
        - munge-ohpc
        - munge-libs-ohpc
        - munge-devel-ohpc
        - rng-tools
